@using Maxim.Model.BaseModel
@using System.Data;
@model CarelableOrderUploadBind

@{
    ViewBag.Title = "OrderUploadCarelable";
    Layout = null;
}
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="~/Content/js/loading.js"></script>
<script type="text/javascript">

    function funcSuccessAction() {
        $("#Body_header").css('display', 'none');
        $("#Body_data").css('display', 'none');
    }

    function funcSubmitBefore() {
        $("#hfIsSubmit").val("1");
    }

    function funcCancelBefore() {
        $("#hfIsSubmit").val("0");
    }

    $(function () {

        ShowOrdernoGridview();

        $("#btnNext").click(function () {
            $("#page-inner1").css("display", "none");
            $("#page-inner2").css("display", "block");

        })
        $("select[name='ShiptoId']").change(function () {
            var data = {
                NewBillto: $("select[name='ShiptoId']").val()

            };

            if ($("select[name='ShiptoId'] option:selected").text() == "--Please Select--") {
                $("#ShipAddrId").empty();
                $("#ShipAddress").empty();
                $("#iShipAddrContact").val("");
                $("#iShipAddrTel").val("");
                $("#iShipAddrCountry").val("");
            } else {

                var urlPost = "/OrderCommon/GetShipAddressInforlistbyShipToId?ShipToId=" + $("select[name='ShiptoId']").val();
                $.post(urlPost, data, function (data, status) {
                    $("select[name='ShipAddrId']").empty();
                    $.each(data, function (i, item) {
                        $("#ShipAddrId").append("<option value='" + item.oos_shippingaddressId + "'>" + item.oos_address + "</option>");
                    });
                    var _seq = 0;
                    $.each(data, function (i, item) {
                        if (_seq == 0) {
                            $("#ShipAddress").html(item.oos_address);
                            $("#iShipAddrContact").val(item.oos_contactname);
                            $("#iShipAddrTel").val(item.oos_contacttel);
                            $("#iShipAddrCountry").val(item.oos_country);
                            _seq++;
                        }
                    });
                });
            }


        })
        $("select[name='BilltoId']").change(function () {
            var data = {
                NewBillto: $("select[name='BilltoId']").val()
            };
             
            if ($("select[name='BilltoId'] option:selected").text() == "--Please Select--") {
                $("#iBilltoAddress").val("");
                $("#iBillingAddrContact").val("");
                $("#iBillingAddrTel").val("");
            }
            else {
                var urlPost = "/OrderCommon/GetAccountInfobyAccountId?billtoId=" + $("select[name='BilltoId']").val();
                $.post(urlPost, data, function (data, status) {
                    $("#iBilltoAddress").val(data.Address1_Line1);
                    $("#iBillingAddrContact").val(data.OOS_ContactName);
                    $("#iBillingAddrTel").val(data.Telephone1);
                });
            }
        });
        $("select[name='_ShipmentType']").change(function () {
            if ($(this).val() != "Express") {
                $("select[name='_ExpressCompany']").get(0).selectedIndex = 0;
                $("select[name='_ExpressCompany']").attr("disabled", "disabled");
                $("select[name='_ExpressCompany']").css("background", "#E6E8EA");

            }
            else {
                $("select[name='_ExpressCompany']").removeAttr("disabled");
                $("select[name='_ExpressCompany']").removeAttr("style");
            }

        })
        $("select[name='ShipAddrId']").change(function () {
            var data = {
                _shipaddressId: $(this).val()
            };
            var urlPost = "/OrderCommon/GetShipAddressInfobyShipAddressId?ShippAddrId=" + $(this).val();
            $.post(urlPost, data, function (data, status) {
                //$("textarea[name='ShipAddress']").val(data.oos_address);
                $("#iShipAddrContact").val(data.oos_contactname);
                $("#iShipAddrTel").val(data.oos_contacttel);
                $("#iShipAddrCountry").val(data.oos_country);
            });
        });
        //$("#BrandLogoId").change(function () {
        //    if ($(this).val() == "ELLE")
        //    {
        //        $("#CarelableId").val("PDT001-ICL00108");
        //    }
        //    if ($(this).val() == "KAPPA") {
        //        $("#CarelableId").val("PDT001-ICL00108");
        //    }
        //    if ($(this).val() == "LEE COOPER") {
        //        $("#CarelableId").val("PDT001-ICL00108");
        //    }
        //    if ($(this).val() == "Splash") {
        //        $("#CarelableId").val("PDT001-ICL00108");
        //    }
        //    if ($(this).val() == "Black by Splash") {
        //        $("#CarelableId").val("PDT001-ICL00108");
        //    }

        //})

        $("select[name='_SpareRate']").change(function () {
            $("#UserSelectRealRate").val($(this).val());

        })
        $("#btnReturnToMain").click(function () {
            $.post("/Carelable/OrderUploadCarelable", function (data) {
               $("#content").html(data);
            })
           return false;
        });
        $("#FirstStep,#SecondStep,#ThirdStep,#FourthStep").click(function () {
            return false;
        });

        $("#btnUpload").click(function () {


            if ($("select[name='_Shipment'] option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select Garment's Final Destination!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("Please select Garment's Final Destination!");
                }
                showDiv();
                return result;
            }

            var result = true;
            if ($("#PSID option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select printshop!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择生成地!");
                }
                showDiv();
                return result;
            }
            if ($("#BilltoId option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select bill account!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择开票客户!");
                }
                showDiv();
                return result;
            }

            if ($("#ShiptoId option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select ship account!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择收货客户!");
                }
                showDiv();

                return result;
            }

            if ($("#ShipAddrId").val() == "") {
                result = false;
                $("#labtxt").html("Please select ship address!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择收货地址!");
                }
                showDiv();
                return result;
            }                   
            if ($("#NeedCOOLabel option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select Is Need COO Label!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择是否需要COO Label。");
                }
                showDiv();
                return result;
            }
            if ($("select[name='_NeedCOOLabe'] option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select Is Need COO Label!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择是否需要COO Label。");
                }
                showDiv();
                return result;
            }

            if ($("select[name='_instructionsfor'] option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select \"洗语共用\"!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择洗语共用。");
                }
                showDiv();
                return result;
            }

            if ($("select[name='_SewingLine'] option:selected").text() == "--Please Select--") {

                result = false;
                $("#labtxt").html("Please select Sewing Line!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择缝线");
                }
                showDiv();
                return result;
            }         
            if ($("select[name='_ShipmentType'] option:selected").text() == "--Please Select--") {
                result = false;

                $("#labtxt").html("Please select Shipment Type!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择交货方式");
                }
                showDiv();
                return result;
            }
            if ($("select[name='_ShipmentType'] option:selected").text() == "Express") {
                if ($("select[name='_ExpressCompany'] option:selected").text() == "--Please Select--") {
                    result = false;

                    $("#labtxt").html("Please select \"Freight Company\"!");
                    if ($("#Language").val() == "zh") {
                        $("#labtxt").html("请选择快递公司。");
                    }
                    showDiv();
                    return result;
                }
            }
            if ($("#BrandLogoId option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select Brand Logo!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择Brand Logo。");
                }
                showDiv();
                return result;
            }
            if ($("#CarelableId option:selected").text() == "--Please Select--") {
                result = false;
                $("#labtxt").html("Please select Material & Color!");
                if ($("#Language").val() == "zh") {
                    $("#labtxt").html("请选择材质及颜色!");
                }
                showDiv();
                return result;
            }
            if (result) {

                 if ($('#photoCover').val() != "") {
                     showloading();
                     $.ajax({
                         url: '/Carelable/OrderUploadCarelableNew',
                         type: 'POST',
                         cache: false,
                         data: new FormData($('#FormUpload')[0]),
                         processData: false,
                         contentType: false,
                     }).success(function (data) {

                         setTimeout(function () {
                             var sTrHtml = "";
                             if (data.SessionStaus == "false") {
                                 window.location.href = "/Home/Login";
                             }
                             else
                             {
                                 $.each(data.orderdata.OrderListUp, function (i, item) {
                                     var checkbox = "checkbox" + i;
                                 sTrHtml += "<tr>";
                                 sTrHtml += "<td class=\"center\"><input id=" + checkbox + " name=\"checkbox\" class=\"magic-checkbox\" style=\"display:none\" type=\"checkbox\" value=\"true\" seq=" + i + " onclick=\"checkbox_checked(this)\" /><label for="+checkbox+" style=\"margin-bottom: 20px;\"></label><input id=\"carelablestyle\" type=\"hidden\" value=" + item.STYLE + " /><input id=\"ItemID\" type=\"hidden\" value=" + item.ItemID + " /></td>"
                                 sTrHtml += "<td class=\"center\">" + item.VENDOR_ORDER_NO + "</td>"//ORDER_NO
                                 sTrHtml += "<td class=\"center\">" + item.ORDER_NO + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.SUPPLIER + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.SUP_NAME + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.STYLE + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.ITEM_DESCRIPTION + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.SIZE + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.SKU_CODE + "</td>"
                                 sTrHtml += "<td class=\"center\">" + item.EAN_CODE + "</td>"
                                 sTrHtml += "<td class=\"center\" style=\"text-align: right;\">" + item.QTY_ORDERED + "</td>"
                                 sTrHtml += "</tr>";
                             });
                             $(".OrderDetailUp").html(sTrHtml);
                             $("#_COOLabelName").html(data.orderdata.COOLabelName);
                             $("#_COOLabelName2").html(data.orderdata.COOLabelName);
                             $("#COOLabelQty").val(data.orderdata.COOLabelQty);
                             $("#page-inner1").removeAttr("style");
                             $("#btndiv").removeAttr("style");
                             $("#Upload_div").css("display","none");
                             $("#TempOrderID").val(data.orderdata.TempOrderID)
                             ShowOrdernoGridview();
                             hideloading();
                             }
                         }, 2000)
                        
                     }).fail(function (data) {
                         hideloading();
                     });
                 }
                 else {
                     $("#labtxt").html("File cannot be empty!");
                     showDiv();
                     return false;
                 }

            }


        })
        //////////
        $("#btnCancel").click(function () {
            var urlPost = "/Carelable/CarelableCancel/" + $("#TempOrderID").val();
            $.post(urlPost, $("#TempOrderID").val(), function (data, status) {
                if (data == "true") {
                    //location.href = "OrderUploadCarelable";
                    //parent.document.location.replace("/Maxim/Welcome");
                    //alert("success");
                    $.post("/Carelable/OrderUploadCarelable", function (data) {
                        $("#content").html(data);
                    })
                    return false;
                }
                else {
                    $("#labtxt").html(data);
                    showDiv();
                }
            })
        })


    });

    function ShowOrdernoGridview() {
        var ItemCount = $("#CarelableUploadOrder tr").length - 1;
        //$("#Uploadstatus").val() == "ok" &&
        if ( parseInt(ItemCount) > 0) {

            $("#btndiv").removeAttr("style");
            $("#btnUpload").attr("disabled", "disabled");
            $("#page-inner1").removeAttr("style");

            $(".Browse").attr("disabled", "disabled");
            $("#PSID").attr("disabled", "disabled");
            $("#Currency").attr("disabled", "disabled");//
            $("#BilltoId").attr("disabled", "disabled");
            $("input[name='iBilltoAddress']").attr("disabled", "disabled");
            $("input[name='iBilltoAddrContact']").attr("disabled", "disabled");
            $("input[name='iBilltoAddrTel']").attr("disabled", "disabled");
            $("#ShiptoId").attr("disabled", "disabled");//
            $("#ShipAddrId").attr("disabled", "disabled");
            $("input[name='ShipAddrContact']").attr("disabled", "disabled");
            $("input[name='ShipAddrTel']").attr("disabled", "disabled");
            $("input[name='Country']").attr("disabled", "disabled");
            $("select[name='_SpareRate']").attr("disabled", "disabled");
            $("#BrandLogoId").attr("disabled", "disabled");
            $("#CarelableId").attr("disabled", "disabled");
            $("#photoCover").attr("disabled", "disabled");
            $("#BrandLogoId").attr("disabled", "disabled");
            $("#BrandLogoId").attr("disabled", "disabled");
            //AddComments
            $("#AddComments").attr("disabled", "disabled");
            $("select[name='_SewingLine']").attr("disabled", "disabled");
            $("select[name='_ShipmentType']").attr("disabled", "disabled");
            $("select[name='_ExpressCompany']").attr("disabled", "disabled");
            $("select[name='_NeedCOOLabe']").attr("disabled", "disabled");
            $("select[name='_instructionsfor']").attr("disabled", "disabled");

            $(".btn Browse").removeAttr("onclick");


            $("#PSID").css("background", "#E6E8EA");
            $("#Currency").css("background", "#E6E8EA");
            $("#BilltoId").css("background", "#E6E8EA");
            $("input[name='iBilltoAddress']").css("background", "#E6E8EA");
            $("input[name='iBilltoAddrContact']").css("background", "#E6E8EA");
            $("input[name='iBilltoAddrTel']").css("background", "#E6E8EA");
            $("#ShiptoId").css("background", "#E6E8EA");
            $("#ShipAddrId").css("background", "#E6E8EA");
            $("input[name='ShipAddrContact']").css("background", "#E6E8EA");
            $("input[name='ShipAddrTel']").css("background", "#E6E8EA");
            $("input[name='Country']").css("background", "#E6E8EA");
            $("select[name='_SpareRate']").css("background", "#E6E8EA");
            $("#BrandLogoId").css("background", "#E6E8EA");
            $("#AddComments").css("background", "#E6E8EA");
            $("#CarelableId").css("background", "#E6E8EA");

            $("#photoCover").css("background", "#E6E8EA");
            $("#BrandLogoId").css("background", "#E6E8EA");
            $("#BrandLogoId").css("background", "#E6E8EA");
            $("select[name='_SewingLine']").css("background", "#E6E8EA");
            $("select[name='_ShipmentType']").css("background", "#E6E8EA");
            $("select[name='_SewingLine']").css("background", "#E6E8EA");
            $("select[name='_NeedCOOLabe']").css("background", "#E6E8EA");
            $("select[name='_instructionsfor']").css("background", "#E6E8EA");
            $("select[name='_ExpressCompany']").css("background", "#E6E8EA");
            $(".btn Browse").css("background", "#E6E8EA");


        }
        else {
          // $("#PSID").val("a743be0c-3da0-df11-9b6d-080027e8019f");
        }
    }

    function checkbox_checked(data) {
        var $a = $(data).parents("tr").find("#carelablestyle").val();      
        $('input:checkbox[name=checkbox]').each(function (i) {
            var $b = $(this).parents("tr").find("#carelablestyle").val()           
            if ($b == $a) {
                $(this).parents("tr").find("input:checkbox[name=checkbox]").prop("checked", true);                
            }
        })
    }
    function checkbox_checkedALL(data) {
        var s = $("#checkboxall").prop("checked");       
        var checkbox = $("input[type='checkbox']");     
        if (s) {
            checkbox.prop("checked", true);
        }
        else {

            if (NoFiberSavestr != "") {
                var str = NoFiberSavestr;
                var arr = str.split("^");
                for (var i = 0; i < arr.length; i++) {
                    var seq = parseInt(arr[i]) + 1;
                    $('input:checkbox').eq(seq).attr('checked', false)

                }
            }
            else {
                checkbox.prop("checked", false)
            }

        }

    }


    var ParaStr = "";
    function funcToGetFiber() {
        var ItemID = "";
        ParaStr = "";
        $('input:checkbox[name="checkbox"]:checked').each(function () {
            var sfruit = $(this).parents("tr").find("#ItemID").val();
                //alert(sfruit);
                //alert($("#hfSelectedItemID_checked").val());
                var arry = $("#hfSelectedItemID_checked").val().split('b');   
                if ($("#hfSelectedItemID_checked").val() !== "") {
                var _index = $.inArray(sfruit, arry)
                //alert(_index)
                if (_index < 0) {
                    ItemID += sfruit + "b";
                    //alert(ItemID);
                }
                else {
                   // alert("456");
                }
            }
            else {
                ItemID += sfruit + "b";
            }
        });

        if (ItemID == "") {
            $("#labtxt").html("Please select at least one line detail!")
            if ($("#Language").val() == "zh") {
                $("#labtxt").html("请至少选择一行明细!");
            }
            showDiv();
        }
        else {
            ParaStr += $("#TempOrderID").val();
            ParaStr += "a" + ItemID;
           // alert("/Carelable/AddMadeInFiber/" + ParaStr);
            //ParaStr,
            //alert(ParaStr);
           
            $.ajax(
                {
                    type: "get",
                    url: "/Carelable/AddMadeInFiber/" + ParaStr, //$("#TempOrderID").val(),
                    contentType: "application/html; charset=utf-8",
                    dataType: "html"
                })
            .success(function (data) {
               // alert(data.toString());
                if (data.toString() == "") {
                    window.location.href = "/Home/Login";
                }
                else {
                    $("#step1").removeClass("red-em");
                    $("#step1").addClass("gray-em");
                    $("#step2").css("display", "block");
                    $("#step2").removeClass("gray-em");
                    $("#step2").addClass("red-em");
                    $("#Body_header").css("display", "none");
                    $("#EditFiberCareInstr").slideDown();
                    $("#EditFiberCareInstr").html(data);
                    $("#tab1").attr("class", "tab-pane");
                    $("#tab2").attr("class", "tab-pane active");
                    //$("#FirstStep").attr("class", "span2");
                    $("#SecondStep").attr("class", "span2 active");
                    $("#ProgressBar").css("width", "50%");
                    $("#Upload_div").css("display", "none");
                }
            })
                 .error(function (xhr, status) {
                     // alert(status);
                     $("#labtxt").html(status)
                     showDiv();
                 })

        }

    }

    function btn_Back() {
        $("#page-inner1").css("display", "block");
        $("#page-inner2").css("display", "none");

    }
    var FiberSavestr = "";
    var NoFiberSavestr = "";
    function funcBackFromFiberSave(obj) {
        //alert(obj);
        FiberSavestr += obj;
        $("#hfSelectedItemID_checked").val(FiberSavestr);
        $("#step3").removeClass("red-em");
        $("#step3").addClass("gray-em");
        $("#step3").css("display", "none");
        $("#step2").removeClass("red-em");
        $("#step2").addClass("gray-em");
        $("#step2").css("display", "none");
        $("#step1").removeClass("gray-em");
        $("#step1").addClass("red-em");

        var str = FiberSavestr
        var arr = str.split("b");
        var FiberSaveCount = arr.length - 1;

        var ItemCount = $("#CarelableUploadOrder tr").length - 1;
        //alert(ItemCount);
        //alert(FiberSaveCount);
        $("#Body_header").removeAttr("style");
        $("#tab1").attr("class", "tab-pane active");
        $("#tab2").attr("class", "tab-pane");
        if (FiberSaveCount == ItemCount) {
            $("#btnNext").removeAttr("disabled");
            $("#btnFiber").attr("disabled", "disabled");
            $("input:checkbox").attr("disabled", "disabled");
        }
        else {
            $('input:checkbox[name=checkbox]').not(":checked").each(function (i) {
                NoFiberSavestr += $(this).attr("seq") + "^";

            })
        }



    }
    function funcartwork() {
        $("#COOLabelName").val($("#_COOLabelName").html());
        var _data = {
            _TempId: $("#TempOrderID").val(),
            COOLabelName: $("#COOLabelName").val(),
            COOLabelQty: $("#COOLabelQty").val(),
            PrintshopId: $("#PSID option:selected").text(),
            Printshop: $("#PSID").val(),
            productid: $("#CarelableId").val(),
            productname: $("#CarelableId option:selected").text(),
            UserSelectRealRate: $("#UserSelectRealRate").val()
        };

        //alert(_data);
        var urlPost = "/Carelable/CarelableUpload_Confirm/";
        $.post(urlPost, _data, function (data, status) {
            if (data != "") {
                //location.href = "SubimtOK/?OrderNo=" + data; 
                //parent.document.location.replace("/Maxim/Welcome");
                //alert("OrderNo:" + data);
                
                $("#tab1").attr("class", "tab-pane");
                $("#tab4").attr("class", "tab-pane active");
                $("#FourthStep").attr("class", "span2 active");
                //$("#ThirdStep").attr("class", "span2");
                $("#ProgressBar").css("width", "100%");
                $("#MaximNo").text(data);

            }
        }).error(function () {
            $("#labtxt").html(status)
            showDiv();
        })
    }
   
    $(".zoom").toggle(function () {
        $(".zoom").attr("class", "zoom icon-chevron-down")
        //$("#Upload_div").toggle()
    }, function () {
        $(".zoom").attr("class", "zoom icon-chevron-up")//icon-chevron-down
        //$("#Upload_div").toggle()
    });
   
</script>
<script type="text/javascript">
        $('input[id=lefile]').change(function () {
            $('#photoCover').val($(this).val());
        });
</script>
<input id="hfIsSubmit" name="hfIsSubmit" type="hidden" value="0">

@using (Html.BeginForm("OrderUploadCarelable", "Carelable", FormMethod.Post, new { enctype = "multipart/form-data", id = "FormUpload" }))
{  
    @RenderPage("~/Views/Shared/loading.cshtml")
    @Html.AntiForgeryToken()
    <div class="row-fluid">
        <div class="span12">

            <div class="portlet box blue" id="form_wizard_1">

                <div class="portlet-title">

                    <div class="caption">

                        Order-<span class="step-title"> Care Lables</span>

                    </div>

                    <div class="tools hidden-phone">

                        <a href="javascript:;" class="collapse"></a>

                        <a href="#portlet-config" data-toggle="modal" class="config"></a>

                        <a href="javascript:;" class="reload"></a>

                        <a href="javascript:;" class="remove"></a>

                    </div>

                </div>

                <div class="portlet-body form">

                    <form  class="form-horizontal" id="submit_form" novalidate="novalidate">

                        <div class="form-wizard">

                            <div class="navbar steps">

                                <div class="navbar-inner">

                                    <ul class="row-fluid nav nav-pills">

                                        <li class="span2 active" id="FirstStep">

                                            <a href="#tab1" data-toggle="tab" class="step active">

                                                <span class="number">1</span>

                                                <span class="desc"><i class="icon-ok"></i> Upload Orders</span>

                                            </a>

                                        </li>

                                        <li class="span2" id="SecondStep">

                                            <a href="#tab2" data-toggle="tab" class="step">

                                                <span class="number">2</span>

                                                <span class="desc"><i class="icon-ok"></i>Add Fiber Info</span>

                                            </a>

                                        </li>

                                        <li class="span2" id="ThirdStep">

                                            <a href="#tab3" data-toggle="tab" class="step">

                                                <span class="number">3</span>

                                                <span class="desc"><i class="icon-ok"></i>Add Washing Instructions</span>

                                            </a>

                                        </li>

                                        <li class="span2" id="FourthStep">

                                            <a href="#tab4" data-toggle="tab" class="step">

                                                <span class="number" style="margin-left: -3px;">4</span>

                                                <span class="desc"><i class="icon-ok"></i>Order Saved</span>

                                            </a>

                                        </li>  
                                    </ul>

                                </div>

                            </div>

                            <div id="bar" class="progress progress-success progress-striped">

                                <div class="bar" id="ProgressBar" style="width: 25%;"></div>

                            </div>

                            <div class="tab-content">

                                <div class="alert alert-error hide">

                                    <button class="close" data-dismiss="alert"></button>

                                    You have some form errors. Please check below.

                                </div>

                                <div class="alert alert-success hide">

                                    <button class="close" data-dismiss="alert"></button>

                                    Your form validation is successful!

                                </div>
                                @*Table1*@
                                <div class="tab-pane active" id="tab1">
                                    <div id="Upload_div">
                                        <div class="row-fluid" style="border: solid 1px #ec008c;">
                                            <div class="span2 span2_hide">
                                                <div class="control-group">
                                                    <label class="control-label" for="firstName"></label>
                                                    <div class="controls">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="span4" style="padding-top: 15px;">
                                                <span></span>
                                                <img src="~/Content/image/AEO logo.jpg" style="width: 270px;" />
                                            </div>
                                            <div class="span4" style="padding-top: 15px;">
                                                <h>Garment's Final Destination:</h>
                                                @Html.DropDownListFor(x => x._Shipment, Model.Shipment, new { @class = "m-wrap span8" })
                                            </div>

                                        </div>
                                        <p style="border-bottom: 2px solid #eaeaea;"></p>
                                        <div class="row-fluid" style="border: solid 1px #ec008c;">
                                            <h3 class="block" style="text-align:center;">Billing and Shipping Information</h3>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Print Shop:</span>
                                                    <select id="PSID" name="PSID" class="m-wrap span8">                                                                
                                                                @foreach (SelectListItem item in Model.PSlist)
                                                                {
                                                                    if (item.Disabled)
                                                                    {
                                                                        <option disabled="disabled" value="@item.Value">@item.Text</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (item.Selected)
                                                                        {
                                                                            <option value="@item.Value" style="color:black;font-weight:bold" selected = "selected">@item.Text</option>
                                                                         }
                                                                        else
                                                                        {
                                                                            <option value="@item.Value" style="color:black;font-weight:bold">@item.Text</option>
                                                                        }

                                                                    }
                                                                }
                                                            </select>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Currency:</span>
                                                    <input class="m-wrap span8" id="iCurrency" name="iCurrency" type="text" value="@Model.Currency" readonly="readonly">
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Billing To:</span>
                                                    @Html.DropDownListFor(x => x.BilltoId, Model.BilltoList, new { @class = "m-wrap span8" })
                                                </div>
                                                <div class="span4 ">
                                                    <span>Ship To:</span>
                                                   @Html.DropDownListFor(x => x.ShiptoId, Model.ShiptoList, new { @class = "m-wrap span8" })
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Billing Address:</span>
                                                   <input id="iBilltoAddress" name="iBilltoAddress" class="m-wrap span8" readonly="readonly" type="text" value="@Model.BilltoAddress "/>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Shipping Address:</span>
                                                    @Html.DropDownListFor(x => x.ShipAddrId, Model.ShipAddrList, new { @class = "m-wrap span8" })
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Contact:</span>
                                                    <input class="m-wrap span8" id="iBillingAddrContact" name="iBillingAddrContact" type="text" value="@Model.BilltoAddrContact" readonly="readonly">
                                                </div>
                                                <div class="span4 ">
                                                    <span>Contact:</span>
                                                    <input class="m-wrap span8" id="iShipAddrContact" name="iShipAddrContact" type="text" value="@Model.ShipAddrContact" readonly="readonly">
                                                </div>
                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Tel:</span>
                                                    <input class="m-wrap span8" id="iBillingAddrTel" name="iBillingAddrTel" type="text" value="@Model.BilltoAddrTel" readonly="readonly">
                                                </div>
                                                <div class="span4 ">
                                                   <span>Tel:</span>
                                                   <input class="m-wrap span8" id="iShipAddrTel" name="iShipAddrTel" type="text" value="@Model.ShipAddrTel" readonly="readonly">
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Shipment Type:</span>
                                                    @Html.DropDownListFor(x => x._ShipmentType, Model.ShipmentType, new { @class = "m-wrap span8" })
                                                </div>
                                                <div class="span4 ">
                                                   <span>Country:</span>
                                                   <input class="m-wrap span8" id="iShipAddrCountry" name="iShipAddrCountry" type="text" value="@Model.Country" readonly="readonly">
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                       <span>Freight Company:</span>
                                                       @Html.DropDownListFor(x => x._ExpressCompany, Model.ExpressCompany, new { @class = "m-wrap span8" })
                                                </div>
                                              
                                                <div class="span2 span2_hide">

                                                    <div class="control-group">

                                                        <ul>
                                                            <li style="display:none">
                                                                <span>Sewing Line</span>:
                                                                @Html.DropDownListFor(x => x._SewingLine, Model.SewingLinelist)
                                                            </li>
                                                        </ul>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <p style="border-bottom: 2px solid #eaeaea;"></p>
                                        <div class="row-fluid" style="border: solid 1px #ec008c;">
                                            <h3 class="block" style="text-align:center;">Input Item Code</h3>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                   <span>Brand:</span>
                                                   @Html.DropDownListFor(x => x.BrandLogoId, Model.BrandLogolist, new { @class = "m-wrap span8" })
                                                </div>
                                                <div class="span4">
                                                    <span>Product:</span>
                                                    @Html.DropDownListFor(x => x.CarelableId, Model.Carelablelist, new { @class = "m-wrap span8" })
                                                </div>
                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                    <span>Spare Rate</span>
                                                    @Html.DropDownListFor(x => x._SpareRate, Model.SpareRate, new { @class = "m-wrap span8" })
                                                </div>
                                                <div class="span4 ">
                                                    <span>Add Comments:</span>
                                                    <input class="m-wrap span8" id="AddComments" name="AddComments" type="text" value="">
                                                </div>

                                            </div>
                                            <div class="row-fluid">
                                                <div class="span2 span2_hide">
                                                    <div class="control-group">
                                                        <label class="control-label" for="firstName"></label>
                                                        <div class="controls">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="span4 ">
                                                      <span> File:</span>
                                                      <input id="photoCover" class="m-wrap span8" type="text" style="position:relative;" />
                                                      <input id="lefile" type="file" style="display:none" name="FileUploaded">
                                                </div>
                                                <div class="span4">
                                                    <a class="btn Browse" style="margin-top:0 !important;" onclick="$('input[id=lefile]').click();">Browse...</a>  
                                                </div>
                                            </div>
                                        </div>
                                        <div class="span2 span2_hide">
                                            <div class="control-group">
                                                <label class="control-label" for="firstName"></label>
                                                <div class="controls">
                                                    <ul>
                                                        <li style="display:none;">
                                                            <span>Same washing instructions for all the styles</span>:
                                                            @Html.DropDownListFor(x => x._instructionsfor, Model.instructionsforlist)
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row-fluid">
                                           
                                            <p style="text-align:center;margin-top: 10px;"><button type="button" class="btn" id="btnUpload" name="btnUpload">Upload</button></p>
                                          
                                        </div>
                                    </div>
                                    <div class="portlet-body " id="page-inner1" style="display:none">
                                        <p style="text-align:center"><i class="zoom  icon-chevron-up" style="cursor: pointer;"></i></p>
                                        <div id="Gridview" class="dataTables_wrapper form-inline" role="grid">
                                            <table class="table table-striped table-bordered table-hover table-full-width dataTable" id="CarelableUploadOrder" aria-describedby="sample_2_info">
                                                <thead>
                                                    <tr role="row">
                                                        <th class="center "><input id="checkboxall" name="checkboxll" class="magic-checkbox" style="display:none" type="checkbox" value="true" seq="1" onclick="checkbox_checkedALL(this)"><label for="checkboxall" style="margin-bottom: 20px;width:20px"></label></th>
                                                        <th class="center">VENDOR_ORDER_NO</th>
                                                        <th class="center">ORDER_NO</th>
                                                        <th class="center">SUPPLIER</th>
                                                        <th class="center">SUP_NAME</th>

                                                        <th class="center">STYLE</th>
                                                        <th class="center">ITEM_DESCRIPTION</th>
                                                        <th class="center">SIZE</th>
                                                        <th class="center">SKU_CODE</th>
                                                        <th class="center">EAN_CODE</th>
                                                        <th class="center">QTY_ORDERED</th>

                                                    </tr>
                                                </thead>



                                                <tbody class="OrderDetailUp" role="alert" aria-live="polite" aria-relevant="all"></tbody>
                                            </table>

                                            <div class="row-fluid">
                                                <div class="span4">
                                                   

                                                </div>
                                                <div class="span4">
                                                   
                                                </div>
                                                <div class="span4">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="row-fluid">

                                            <div class="span4">
                                                <button type="button"   id="btnFiber" name="btnFiber" onclick="return funcToGetFiber();" class="btn" style="border: 1px solid #D6D6D6;">Fiber</button>
                                                <button type="button" id="btnNext" disabled="disabled" name="btnNext" class="btn" style="border: 1px solid #D6D6D6;">Next</button>
                                                <button type="button" id="btnCancel" name="btnCancel" class="btn" style="border: 1px solid #D6D6D6;" >Cancel</button>
                                            </div>

                                            <div class="span4">

                                            </div>
                                            <div class="span4">

                                            </div>

                                        </div>
                                    </div>
                                   
                                    <input type="hidden" value="@Model.Language" name="Language" id="Language" />
                                    <input type="hidden" value="@Model.TempOrderID" name="TempOrderID" id="TempOrderID" />
                                    <input type="hidden" value="" name="COOLabelName" id="COOLabelName" />
                                    <input type="hidden" value="" name="OrderNo" id="OrderNo" />


                                    <input type="hidden" value="@TempData["Uploadstatus"]" id="Uploadstatus" name="Uploadstatus" />
                                    <input type="hidden" value="" id="hfSelectedItemID_checked" name="hfSelectedItemID_checked" />

                                    <input type="hidden" value="" id="UserSelectRealRate" name="UserSelectRealRate" />

                                    <div class="portlet-body" id="page-inner2" style="display:none">
                                        <div id="Gridview" class="dataTables_wrapper form-inline" role="grid">
                                            <table id="OrderListDetail" class="table table-striped table-bordered table-hover table-full-width dataTable">
                                                <thead>
                                                    <tr class="head">

                                                        <th class="center">VENDOR_ORDER_NO</th>
                                                        <th class="center">ORDER_NO</th>
                                                        <th class="center">SUPPLIER</th>
                                                        <th class="center">SUP_NAME</th>
                                                        <th class="center">STYLE</th>
                                                        <th class="center">ITEM_DESCRIPTION</th>
                                                        <th class="center">SIZE</th>
                                                        <th class="center">SKU_CODE</th>
                                                        <th class="center">EAN_CODE</th>
                                                        <th class="center">QTY_ORDERED</th>

                                                        <th class="center">CountryOfOrigin</th>
                                                        <th class="center">category1</th>
                                                        <th class="center">Comp1</th>
                                                        <th class="center">Fibre1</th>

                                                        <th class="center">category2</th>
                                                        <th class="center">Comp2</th>
                                                        <th class="center">Fibre2</th>

                                                        <th class="center">category3</th>
                                                        <th class="center">Comp3</th>
                                                        <th class="center">Fibre3</th>

                                                        <th class="center">category4</th>
                                                        <th class="center">Comp4</th>
                                                        <th class="center">Fibre4</th>

                                                        <th class="center">category5</th>
                                                        <th class="center">Comp5</th>
                                                        <th class="center">Fibre5</th>

                                                        <th class="center">category6</th>
                                                        <th class="center">Comp6</th>
                                                        <th class="center">Fibre6</th>

                                                        <th class="center">category7</th>
                                                        <th class="center">Comp7</th>
                                                        <th class="center">Fibre7</th>

                                                        <th class="center">category8</th>
                                                        <th class="center">Comp8</th>
                                                        <th class="center">Fibre8</th>

                                                        <th class="center">category9</th>
                                                        <th class="center">Comp9</th>
                                                        <th class="center">Fibre9</th>

                                                        <th class="center">category10</th>
                                                        <th class="center">Comp10</th>
                                                        <th class="center">Fibre10</th>

                                                        <th class="center">Washcare1</th>
                                                        <th class="center">Washcare2</th>
                                                        <th class="center">Washcare3</th>
                                                        <th class="center">Washcare4</th>
                                                        <th class="center">Washcare5</th>
                                                        <th class="center">Washcare6</th>
                                                        <th class="center">Washcare7</th>
                                                        <th class="center">Washcare8</th>
                                                        <th class="center">Washcare9</th>
                                                        <th class="center">Washcare10</th>
                                                        <th class="center">Symblos</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="OrderDetail"></tbody>
                                            </table>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span4">


                                            </div>
                                            <div class="span4">
                                                <button class="btn" type="button" id="Button_artwork" style="border: 1px solid #D6D6D6;" onclick="funcartwork()" name="Button_artwork">Generate Artwork</button>
                                                <button class="btn" type="button" style="border: 1px solid #D6D6D6;" onclick="btn_Back()" name="Button_Back">Back</button>
                                            </div>
                                            <div class="span4">

                                            </div>
                                        </div>
                                        

                                    </div>
                                </div>
                                @*Table2*@
                                <div class="tab-pane" id="tab2">

                                    <div id="EditFiberCareInstr" style="display:none;">
                                   
                                    </div>
                                </div>

                                <div class="tab-pane" id="tab3">

                                </div>

                                <div class="tab-pane" id="tab4">
                                      <div class="row-fluid">
                                          <p class="select" style="font-size:15px;">Your Maxim No. is :<b id="MaximNo"></b></p>
                                          <div id="pan_en">

                                              <ul>
                                                  <li style="color:red"><em style="font-size:24px;font-style: normal;">Important! </em>Currently system is uploading your data. Click "Confirm Order" icon afterward to submit the order.</li>
                                                  <li>
                                                      1.For barcode items, please confirm artwork before submitting the order.Once submitted,
                                                      the order will be received by our factory and processed immediately.
                                                  </li>
                                                  <li>**Processed orders cannot be cancelled or changed** </li>
                                                  <li>
                                                      2. Payment Terms are ship upon payment. Goods will be delivered after we receive
                                                      your payment.
                                                  </li>
                                                  <li>
                                                      3. If you have any complaints regarding our customer service, delays or product
                                                      quality, please contact our Director Ruth Zhu by mail:<a href="mailto: ruth.zhu@maxim-group.com" style="color:blue">
                                                          ruth.zhu@maxim-group.com
                                                      </a>. Your feedback is very important to us.
                                                  </li>
                                              </ul>

                                          </div>
                                          <button id="btnReturnToMain" type="button" class="btn btn-default" name="Cancel" style="border: 1px solid #D6D6D6;">Return</button>
                                      </div>
                                </div>

                            </div>

                            

                        </div>

                    </form>

                </div>

            </div>

        </div>
    </div>
}
